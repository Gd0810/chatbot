<form hx-post="{% url 'dashboard:qa_update' qa.id %}" hx-target="#qa-list-container" hx-swap="innerHTML" onsubmit="document.getElementById('qa-edit-modal').classList.add('hidden')">
    {% csrf_token %}
    <h3 class="text-lg leading-6 font-medium text-gray-900 mb-4">Edit Q&A Pair</h3>
    
    <div class="grid grid-cols-1 gap-4">
        <div>
            <label class="block text-sm font-medium text-gray-700">Bot</label>
            <p class="mt-1 text-sm text-gray-500">{{ qa.bot.name }}</p>
        </div>
        
        <div>
            <label for="edit_parent_id" class="block text-sm font-medium text-gray-700">Parent Question</label>
            <select name="parent_id" id="edit_parent_id" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md">
                <option value="">-- None (Root) --</option>
                {% for p in potential_parents %}
                <option value="{{ p.id }}" {% if qa.parent_id == p.id %}selected{% endif %}>{{ p.question }}</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label for="edit_question" class="block text-sm font-medium text-gray-700">Question</label>
            <input type="text" name="question" id="edit_question" value="{{ qa.question }}" required class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
        </div>

        <div>
            <label for="edit_answer" class="block text-sm font-medium text-gray-700">Answer</label>
            <textarea name="answer" id="edit_answer" rows="5" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">{{ qa.answer }}</textarea>
        </div>
    </div>

    <div class="mt-5 sm:mt-6">
        <button type="submit" class="inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm">
            Save Changes
        </button>
    </div>
</form>
