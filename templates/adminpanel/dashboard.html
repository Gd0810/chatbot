{% extends 'base.html' %}
{% block title %}Admin Dashboard{% endblock %}
{% block content %}
<h2>Admin Dashboard</h2>

<div class="row mb-4">
    <div class="col-md-3">
        <div class="card">
            <div class="card-body text-center">
                <h5>{{ workspaces_total }}</h5>
                <p>Total Workspaces</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card">
            <div class="card-body text-center">
                <h5>{{ workspaces_approved }}</h5>
                <p>Approved</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card">
            <div class="card-body text-center">
                <h5>{{ workspaces_pending }}</h5>
                <p>Pending</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card">
            <div class="card-body text-center">
                <h5>{{ bots_total }}</h5>
                <p>Total Bots</p>
            </div>
        </div>
    </div>
</div>

<h4>Pending Approvals</h4>
<div class="table-responsive">
    <table class="table">
        <thead>
            <tr><th>Workspace</th><th>Owner</th><th>Actions</th></tr>
        </thead>
        <tbody>
            {% for ws in pending_workspaces %}
            <tr>
                <td>{{ ws.name }}</td>
                <td>{{ ws.owner.username }}</td>
                <td>
                    <a href="{% url 'adminpanel:approve' ws.id %}" class="btn btn-sm btn-success">Approve</a>
                    <a href="#" class="btn btn-sm btn-danger">Reject</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="3">No pending approvals</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}